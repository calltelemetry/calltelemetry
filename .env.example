# CallTelemetry Docker Compose Environment
# Copy to .env and customize for your deployment.
#
# Usage:
#   cp .env.example .env
#   # Edit values below, then:
#   docker compose up -d

# ─── Network ───
# Public IP address of this appliance (used for SIP/SRTP external media)
DEFAULT_IPV4=127.0.0.1

# ─── Image Versions ───
# Pin all service images here. OVA releases set these automatically.
WEB_VERSION=0.8.6-rc50
VUE_VERSION=0.8.6-rc49
TRACEROUTE_VERSION=0.8.5-rc27
JTAPI_VERSION=1.14.5
CT_MEDIA_VERSION=0.2.5

# ─── Database ───
# POSTGRES_USER=calltelemetry
# POSTGRES_PASSWORD=postgres
# POSTGRES_DB=calltelemetry_prod

# ─── Feature Profiles ───
# Comma-separated list of Docker Compose profiles to activate.
# Available profiles:
#   jtapi  - Phone control stack (jtapi-sidecar, ct-media, seaweedfs)
#   otel   - OpenTelemetry collector (metrics export to Prometheus)
#
# Examples:
#   COMPOSE_PROFILES=          # Base services only
#   COMPOSE_PROFILES=jtapi     # Base + JTAPI phone control
#   COMPOSE_PROFILES=jtapi,otel # Base + JTAPI + OpenTelemetry
COMPOSE_PROFILES=

# ─── JTAPI Configuration ───
# These are set automatically by `ct-cli jtapi enable` or `cli.sh jtapi enable`.
# Only needed when COMPOSE_PROFILES includes "jtapi".
# JTAPI_MODE=direct
# JTAPI_SIDECAR_ENDPOINT=jtapi-sidecar:50051
# JTAPI_SIDECAR_URL=http://jtapi-sidecar:8080
# S3_ENABLED=true
# S3_ENDPOINT=http://seaweedfs:8333
# CT_MEDIA_ENDPOINT=ct-media:50053

# ─── S3 / SeaweedFS Credentials ───
# Used by jtapi-sidecar, ct-media, and the web service for object storage.
# Default values suitable for development (SeaweedFS single-user mode).
# Set BEFORE first start — changing after data exists requires reconfiguration.
# S3_ACCESS_KEY_ID=minioadmin
# S3_SECRET_ACCESS_KEY=minioadmin

# ─── Observability ───
# Grafana admin credentials (first-start only, ignored after initial provisioning)
# GF_ADMIN_USER=admin
# GF_ADMIN_PASSWORD=calltelemetry
# GRAFANA_TOKEN=

# OpenTelemetry (requires COMPOSE_PROFILES to include "otel")
# OTEL_ENABLED=false
# OTEL_SDK_DISABLED=true
# OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
